/*!
* @byted/secsdk v1.2.11
* (c) 2022
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).secsdk={})}(this,(function(e){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(e,t){return e(t={exports:{}},t.exports),t.exports}var r=n((function(e){function t(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=t=function(e){return typeof e}:e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(n)}e.exports=t})),o=function(e){return e&&e.Math==Math&&e},i=o("object"==("undefined"==typeof globalThis?"undefined":r(globalThis))&&globalThis)||o("object"==("undefined"==typeof window?"undefined":r(window))&&window)||o("object"==("undefined"==typeof self?"undefined":r(self))&&self)||o("object"==r(t)&&t)||function(){return this}()||Function("return this")(),a=function(e){try{return!!e()}catch(t){return!0}},u=!a((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),c={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,f={f:s&&!c.call({1:2},1)?function(e){var t=s(this,e);return!!t&&t.enumerable}:c},l=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},h={}.toString,p=function(e){return h.call(e).slice(8,-1)},d="".split,v=a((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==p(e)?d.call(e,""):Object(e)}:Object,g=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},y=function(e){return v(g(e))},m=function(e){return"object"===r(e)?null!==e:"function"==typeof e},w=function(e,t){if(!m(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!m(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!m(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!m(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},b={}.hasOwnProperty,k=function(e,t){return b.call(e,t)},S=i.document,L=m(S)&&m(S.createElement),R=function(e){return L?S.createElement(e):{}},A=!u&&!a((function(){return 7!=Object.defineProperty(R("div"),"a",{get:function(){return 7}}).a})),j=Object.getOwnPropertyDescriptor,E={f:u?j:function(e,t){if(e=y(e),t=w(t,!0),A)try{return j(e,t)}catch(n){}if(k(e,t))return l(!f.f.call(e,t),e[t])}},O=function(e){if(!m(e))throw TypeError(String(e)+" is not an object");return e},P=Object.defineProperty,T={f:u?P:function(e,t,n){if(O(e),t=w(t,!0),O(n),A)try{return P(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},q=u?function(e,t,n){return T.f(e,t,l(1,n))}:function(e,t,n){return e[t]=n,e},M=function(e,t){try{q(i,e,t)}catch(n){i[e]=t}return t},C=i["__core-js_shared__"]||M("__core-js_shared__",{}),x=Function.toString;"function"!=typeof C.inspectSource&&(C.inspectSource=function(e){return x.call(e)});var U,H,I,F=C.inspectSource,D=i.WeakMap,_="function"==typeof D&&/native code/.test(F(D)),N=n((function(e){(e.exports=function(e,t){return C[e]||(C[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.8.2",mode:"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})})),B=0,X=Math.random(),G=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++B+X).toString(36)},V=N("keys"),W=function(e){return V[e]||(V[e]=G(e))},z={},K=i.WeakMap;if(_){var $=C.state||(C.state=new K),Y=$.get,J=$.has,Z=$.set;U=function(e,t){return t.facade=e,Z.call($,e,t),t},H=function(e){return Y.call($,e)||{}},I=function(e){return J.call($,e)}}else{var Q=W("state");z[Q]=!0,U=function(e,t){return t.facade=e,q(e,Q,t),t},H=function(e){return k(e,Q)?e[Q]:{}},I=function(e){return k(e,Q)}}var ee={set:U,get:H,has:I,enforce:function(e){return I(e)?H(e):U(e,{})},getterFor:function(e){return function(t){var n;if(!m(t)||(n=H(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},te=n((function(e){var t=ee.get,n=ee.enforce,r=String(String).split("String");(e.exports=function(e,t,o,a){var u,c=!!a&&!!a.unsafe,s=!!a&&!!a.enumerable,f=!!a&&!!a.noTargetGet;"function"==typeof o&&("string"!=typeof t||k(o,"name")||q(o,"name",t),(u=n(o)).source||(u.source=r.join("string"==typeof t?t:""))),e!==i?(c?!f&&e[t]&&(s=!0):delete e[t],s?e[t]=o:q(e,t,o)):s?e[t]=o:M(t,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||F(this)}))})),ne=i,re=function(e){return"function"==typeof e?e:void 0},oe=function(e,t){return arguments.length<2?re(ne[e])||re(i[e]):ne[e]&&ne[e][t]||i[e]&&i[e][t]},ie=Math.ceil,ae=Math.floor,ue=function(e){return isNaN(e=+e)?0:(e>0?ae:ie)(e)},ce=Math.min,se=function(e){return e>0?ce(ue(e),9007199254740991):0},fe=Math.max,le=Math.min,he=function(e){return function(t,n,r){var o,i=y(t),a=se(i.length),u=function(e,t){var n=ue(e);return n<0?fe(n+t,0):le(n,t)}(r,a);if(e&&n!=n){for(;a>u;)if((o=i[u++])!=o)return!0}else for(;a>u;u++)if((e||u in i)&&i[u]===n)return e||u||0;return!e&&-1}},pe={includes:he(!0),indexOf:he(!1)},de=pe.indexOf,ve=function(e,t){var n,r=y(e),o=0,i=[];for(n in r)!k(z,n)&&k(r,n)&&i.push(n);for(;t.length>o;)k(r,n=t[o++])&&(~de(i,n)||i.push(n));return i},ge=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ye=ge.concat("length","prototype"),me={f:Object.getOwnPropertyNames||function(e){return ve(e,ye)}},we={f:Object.getOwnPropertySymbols},be=oe("Reflect","ownKeys")||function(e){var t=me.f(O(e)),n=we.f;return n?t.concat(n(e)):t},ke=function(e,t){for(var n=be(t),r=T.f,o=E.f,i=0;i<n.length;i++){var a=n[i];k(e,a)||r(e,a,o(t,a))}},Se=/#|\.prototype\./,Le=function(e,t){var n=Ae[Re(e)];return n==Ee||n!=je&&("function"==typeof t?a(t):!!t)},Re=Le.normalize=function(e){return String(e).replace(Se,".").toLowerCase()},Ae=Le.data={},je=Le.NATIVE="N",Ee=Le.POLYFILL="P",Oe=Le,Pe=E.f,Te=function(e,t){var n,o,a,u,c,s=e.target,f=e.global,l=e.stat;if(n=f?i:l?i[s]||M(s,{}):(i[s]||{}).prototype)for(o in t){if(u=t[o],a=e.noTargetGet?(c=Pe(n,o))&&c.value:n[o],!Oe(f?o:s+(l?".":"#")+o,e.forced)&&void 0!==a){if(r(u)===r(a))continue;ke(u,a)}(e.sham||a&&a.sham)&&q(u,"sham",!0),te(n,o,u,e)}},qe=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},Me=function(e,t,n){if(qe(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}},Ce=function(e){return Object(g(e))},xe=Array.isArray||function(e){return"Array"==p(e)},Ue=!!Object.getOwnPropertySymbols&&!a((function(){return!String(Symbol())})),He=Ue&&!Symbol.sham&&"symbol"==r(Symbol.iterator),Ie=N("wks"),Fe=i.Symbol,De=He?Fe:Fe&&Fe.withoutSetter||G,_e=function(e){return k(Ie,e)||(Ue&&k(Fe,e)?Ie[e]=Fe[e]:Ie[e]=De("Symbol."+e)),Ie[e]},Ne=_e("species"),Be=function(e,t){var n;return xe(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!xe(n.prototype)?m(n)&&null===(n=n[Ne])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},Xe=[].push,Ge=function(e){var t=1==e,n=2==e,r=3==e,o=4==e,i=6==e,a=7==e,u=5==e||i;return function(c,s,f,l){for(var h,p,d=Ce(c),g=v(d),y=Me(s,f,3),m=se(g.length),w=0,b=l||Be,k=t?b(c,m):n||a?b(c,0):void 0;m>w;w++)if((u||w in g)&&(p=y(h=g[w],w,d),e))if(t)k[w]=p;else if(p)switch(e){case 3:return!0;case 5:return h;case 6:return w;case 2:Xe.call(k,h)}else switch(e){case 4:return!1;case 7:Xe.call(k,h)}return i?-1:r||o?o:k}},Ve={forEach:Ge(0),map:Ge(1),filter:Ge(2),some:Ge(3),every:Ge(4),find:Ge(5),findIndex:Ge(6),filterOut:Ge(7)},We=function(e,t){var n=[][e];return!!n&&a((function(){n.call(null,t||function(){throw 1},1)}))},ze=Object.defineProperty,Ke={},$e=function(e){throw e},Ye=function(e,t){if(k(Ke,e))return Ke[e];t||(t={});var n=[][e],r=!!k(t,"ACCESSORS")&&t.ACCESSORS,o=k(t,0)?t[0]:$e,i=k(t,1)?t[1]:void 0;return Ke[e]=!!n&&!a((function(){if(r&&!u)return!0;var e={length:-1};r?ze(e,1,{enumerable:!0,get:$e}):e[1]=1,n.call(e,o,i)}))},Je=Ve.forEach,Ze=We("forEach"),Qe=Ye("forEach"),et=Ze&&Qe?[].forEach:function(e){return Je(this,e,arguments.length>1?arguments[1]:void 0)};Te({target:"Array",proto:!0,forced:[].forEach!=et},{forEach:et});var tt,nt=Object.keys||function(e){return ve(e,ge)},rt=u?Object.defineProperties:function(e,t){O(e);for(var n,r=nt(t),o=r.length,i=0;o>i;)T.f(e,n=r[i++],t[n]);return e},ot=oe("document","documentElement"),it=W("IE_PROTO"),at=function(){},ut=function(e){return"<script>"+e+"<\/script>"},ct=function(){try{tt=document.domain&&new ActiveXObject("htmlfile")}catch(r){}var e,t;ct=tt?function(e){e.write(ut("")),e.close();var t=e.parentWindow.Object;return e=null,t}(tt):((t=R("iframe")).style.display="none",ot.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(ut("document.F=Object")),e.close(),e.F);for(var n=ge.length;n--;)delete ct.prototype[ge[n]];return ct()};z[it]=!0;var st=Object.create||function(e,t){var n;return null!==e?(at.prototype=O(e),n=new at,at.prototype=null,n[it]=e):n=ct(),void 0===t?n:rt(n,t)},ft=_e("unscopables"),lt=Array.prototype;null==lt[ft]&&T.f(lt,ft,{configurable:!0,value:st(null)});var ht=function(e){lt[ft][e]=!0},pt=pe.includes,dt=Ye("indexOf",{ACCESSORS:!0,1:0});Te({target:"Array",proto:!0,forced:!dt},{includes:function(e){return pt(this,e,arguments.length>1?arguments[1]:void 0)}}),ht("includes");var vt,gt,yt=oe("navigator","userAgent")||"",mt=i.process,wt=mt&&mt.versions,bt=wt&&wt.v8;bt?gt=(vt=bt.split("."))[0]+vt[1]:yt&&(!(vt=yt.match(/Edge\/(\d+)/))||vt[1]>=74)&&(vt=yt.match(/Chrome\/(\d+)/))&&(gt=vt[1]);var kt=gt&&+gt,St=_e("species"),Lt=Ve.map,Rt=function(e){return kt>=51||!a((function(){var t=[];return(t.constructor={})[St]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}("map"),At=Ye("map");Te({target:"Array",proto:!0,forced:!Rt||!At},{map:function(e){return Lt(this,e,arguments.length>1?arguments[1]:void 0)}});var jt=Ve.some,Et=We("some"),Ot=Ye("some");Te({target:"Array",proto:!0,forced:!Et||!Ot},{some:function(e){return jt(this,e,arguments.length>1?arguments[1]:void 0)}});var Pt=Object.assign,Tt=Object.defineProperty,qt=!Pt||a((function(){if(u&&1!==Pt({b:1},Pt(Tt({},"a",{enumerable:!0,get:function(){Tt(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=Pt({},e)[n]||"abcdefghijklmnopqrst"!=nt(Pt({},t)).join("")}))?function(e,t){for(var n=Ce(e),r=arguments.length,o=1,i=we.f,a=f.f;r>o;)for(var c,s=v(arguments[o++]),l=i?nt(s).concat(i(s)):nt(s),h=l.length,p=0;h>p;)c=l[p++],u&&!a.call(s,c)||(n[c]=s[c]);return n}:Pt;Te({target:"Object",stat:!0,forced:Object.assign!==qt},{assign:qt});var Mt={};Mt[_e("toStringTag")]="z";var Ct="[object z]"===String(Mt),xt=_e("toStringTag"),Ut="Arguments"==p(function(){return arguments}()),Ht=Ct?p:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=Object(e),xt))?n:Ut?p(t):"Object"==(r=p(t))&&"function"==typeof t.callee?"Arguments":r},It=Ct?{}.toString:function(){return"[object "+Ht(this)+"]"};Ct||te(Object.prototype,"toString",It,{unsafe:!0});var Ft=i.Promise,Dt=function(e,t,n){for(var r in t)te(e,r,t[r],n);return e},_t=T.f,Nt=_e("toStringTag"),Bt=function(e,t,n){e&&!k(e=n?e:e.prototype,Nt)&&_t(e,Nt,{configurable:!0,value:t})},Xt=_e("species"),Gt=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e},Vt={},Wt=_e("iterator"),zt=Array.prototype,Kt=function(e){return void 0!==e&&(Vt.Array===e||zt[Wt]===e)},$t=_e("iterator"),Yt=function(e){if(null!=e)return e[$t]||e["@@iterator"]||Vt[Ht(e)]},Jt=function(e){var t=e.return;if(void 0!==t)return O(t.call(e)).value},Zt=function(e,t){this.stopped=e,this.result=t},Qt=function(e,t,n){var o,i,a,u,c,s,f,l=n&&n.that,h=!(!n||!n.AS_ENTRIES),p=!(!n||!n.IS_ITERATOR),d=!(!n||!n.INTERRUPTED),v=Me(t,l,1+h+d),g=function(e){return o&&Jt(o),new Zt(!0,e)},y=function(e){return h?(O(e),d?v(e[0],e[1],g):v(e[0],e[1])):d?v(e,g):v(e)};if(p)o=e;else{if("function"!=typeof(i=Yt(e)))throw TypeError("Target is not iterable");if(Kt(i)){for(a=0,u=se(e.length);u>a;a++)if((c=y(e[a]))&&c instanceof Zt)return c;return new Zt(!1)}o=i.call(e)}for(s=o.next;!(f=s.call(o)).done;){try{c=y(f.value)}catch(m){throw Jt(o),m}if("object"==r(c)&&c&&c instanceof Zt)return c}return new Zt(!1)},en=_e("iterator"),tn=!1;try{var nn=0,rn={next:function(){return{done:!!nn++}},return:function(){tn=!0}};rn[en]=function(){return this},Array.from(rn,(function(){throw 2}))}catch(wa){}var on,an,un,cn=_e("species"),sn=function(e,t){var n,r=O(e).constructor;return void 0===r||null==(n=O(r)[cn])?t:qe(n)},fn=/(iphone|ipod|ipad).*applewebkit/i.test(yt),ln="process"==p(i.process),hn=i.location,pn=i.setImmediate,dn=i.clearImmediate,vn=i.process,gn=i.MessageChannel,yn=i.Dispatch,mn=0,wn={},bn=function(e){if(wn.hasOwnProperty(e)){var t=wn[e];delete wn[e],t()}},kn=function(e){return function(){bn(e)}},Sn=function(e){bn(e.data)},Ln=function(e){i.postMessage(e+"",hn.protocol+"//"+hn.host)};pn&&dn||(pn=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return wn[++mn]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},on(mn),mn},dn=function(e){delete wn[e]},ln?on=function(e){vn.nextTick(kn(e))}:yn&&yn.now?on=function(e){yn.now(kn(e))}:gn&&!fn?(un=(an=new gn).port2,an.port1.onmessage=Sn,on=Me(un.postMessage,un,1)):i.addEventListener&&"function"==typeof postMessage&&!i.importScripts&&hn&&"file:"!==hn.protocol&&!a(Ln)?(on=Ln,i.addEventListener("message",Sn,!1)):on="onreadystatechange"in R("script")?function(e){ot.appendChild(R("script")).onreadystatechange=function(){ot.removeChild(this),bn(e)}}:function(e){setTimeout(kn(e),0)});var Rn,An,jn,En,On,Pn,Tn,qn,Mn={set:pn,clear:dn},Cn=/web0s(?!.*chrome)/i.test(yt),xn=E.f,Un=Mn.set,Hn=i.MutationObserver||i.WebKitMutationObserver,In=i.document,Fn=i.process,Dn=i.Promise,_n=xn(i,"queueMicrotask"),Nn=_n&&_n.value;Nn||(Rn=function(){var e,t;for(ln&&(e=Fn.domain)&&e.exit();An;){t=An.fn,An=An.next;try{t()}catch(wa){throw An?En():jn=void 0,wa}}jn=void 0,e&&e.enter()},fn||ln||Cn||!Hn||!In?Dn&&Dn.resolve?(Tn=Dn.resolve(void 0),qn=Tn.then,En=function(){qn.call(Tn,Rn)}):En=ln?function(){Fn.nextTick(Rn)}:function(){Un.call(i,Rn)}:(On=!0,Pn=In.createTextNode(""),new Hn(Rn).observe(Pn,{characterData:!0}),En=function(){Pn.data=On=!On}));var Bn,Xn,Gn,Vn,Wn=Nn||function(e){var t={fn:e,next:void 0};jn&&(jn.next=t),An||(An=t,En()),jn=t},zn=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=qe(t),this.reject=qe(n)},Kn={f:function(e){return new zn(e)}},$n=function(e,t){if(O(e),m(t)&&t.constructor===e)return t;var n=Kn.f(e);return(0,n.resolve)(t),n.promise},Yn=function(e){try{return{error:!1,value:e()}}catch(wa){return{error:!0,value:wa}}},Jn=Mn.set,Zn=_e("species"),Qn="Promise",er=ee.get,tr=ee.set,nr=ee.getterFor(Qn),rr=Ft,or=i.TypeError,ir=i.document,ar=i.process,ur=oe("fetch"),cr=Kn.f,sr=cr,fr=!!(ir&&ir.createEvent&&i.dispatchEvent),lr="function"==typeof PromiseRejectionEvent,hr=Oe(Qn,(function(){if(!(F(rr)!==String(rr))){if(66===kt)return!0;if(!ln&&!lr)return!0}if(kt>=51&&/native code/.test(rr))return!1;var e=rr.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[Zn]=t,!(e.then((function(){}))instanceof t)})),pr=hr||!function(e,t){if(!t&&!tn)return!1;var n=!1;try{var r={};r[en]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(wa){}return n}((function(e){rr.all(e).catch((function(){}))})),dr=function(e){var t;return!(!m(e)||"function"!=typeof(t=e.then))&&t},vr=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;Wn((function(){for(var r=e.value,o=1==e.state,i=0;n.length>i;){var a,u,c,s=n[i++],f=o?s.ok:s.fail,l=s.resolve,h=s.reject,p=s.domain;try{f?(o||(2===e.rejection&&wr(e),e.rejection=1),!0===f?a=r:(p&&p.enter(),a=f(r),p&&(p.exit(),c=!0)),a===s.promise?h(or("Promise-chain cycle")):(u=dr(a))?u.call(a,l,h):l(a)):h(r)}catch(wa){p&&!c&&p.exit(),h(wa)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&yr(e)}))}},gr=function(e,t,n){var r,o;fr?((r=ir.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),i.dispatchEvent(r)):r={promise:t,reason:n},!lr&&(o=i["on"+e])?o(r):"unhandledrejection"===e&&function(e,t){var n=i.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}("Unhandled promise rejection",n)},yr=function(e){Jn.call(i,(function(){var t,n=e.facade,r=e.value;if(mr(e)&&(t=Yn((function(){ln?ar.emit("unhandledRejection",r,n):gr("unhandledrejection",n,r)})),e.rejection=ln||mr(e)?2:1,t.error))throw t.value}))},mr=function(e){return 1!==e.rejection&&!e.parent},wr=function(e){Jn.call(i,(function(){var t=e.facade;ln?ar.emit("rejectionHandled",t):gr("rejectionhandled",t,e.value)}))},br=function(e,t,n){return function(r){e(t,r,n)}},kr=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,vr(e,!0))},Sr=function e(t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===n)throw or("Promise can't be resolved itself");var o=dr(n);o?Wn((function(){var r={done:!1};try{o.call(n,br(e,r,t),br(kr,r,t))}catch(wa){kr(r,wa,t)}})):(t.value=n,t.state=1,vr(t,!1))}catch(wa){kr({done:!1},wa,t)}}};hr&&(rr=function(e){Gt(this,rr,Qn),qe(e),Bn.call(this);var t=er(this);try{e(br(Sr,t),br(kr,t))}catch(wa){kr(t,wa)}},(Bn=function(e){tr(this,{type:Qn,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=Dt(rr.prototype,{then:function(e,t){var n=nr(this),r=cr(sn(this,rr));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=ln?ar.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&vr(n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),Xn=function(){var e=new Bn,t=er(e);this.promise=e,this.resolve=br(Sr,t),this.reject=br(kr,t)},Kn.f=cr=function(e){return e===rr||e===Gn?new Xn(e):sr(e)},"function"==typeof Ft&&(Vn=Ft.prototype.then,te(Ft.prototype,"then",(function(e,t){var n=this;return new rr((function(e,t){Vn.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof ur&&Te({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return $n(rr,ur.apply(i,arguments))}}))),Te({global:!0,wrap:!0,forced:hr},{Promise:rr}),Bt(rr,Qn,!1),function(e){var t=oe(e),n=T.f;u&&t&&!t[Xt]&&n(t,Xt,{configurable:!0,get:function(){return this}})}(Qn),Gn=oe(Qn),Te({target:Qn,stat:!0,forced:hr},{reject:function(e){var t=cr(this);return t.reject.call(void 0,e),t.promise}}),Te({target:Qn,stat:!0,forced:hr},{resolve:function(e){return $n(this,e)}}),Te({target:Qn,stat:!0,forced:pr},{all:function(e){var t=this,n=cr(t),r=n.resolve,o=n.reject,i=Yn((function(){var n=qe(t.resolve),i=[],a=0,u=1;Qt(e,(function(e){var c=a++,s=!1;i.push(void 0),u++,n.call(t,e).then((function(e){s||(s=!0,i[c]=e,--u||r(i))}),o)})),--u||r(i)}));return i.error&&o(i.value),n.promise},race:function(e){var t=this,n=cr(t),r=n.reject,o=Yn((function(){var o=qe(t.resolve);Qt(e,(function(e){o.call(t,e).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}});var Lr=!!Ft&&a((function(){Ft.prototype.finally.call({then:function(){}},(function(){}))}));Te({target:"Promise",proto:!0,real:!0,forced:Lr},{finally:function(e){var t=sn(this,oe("Promise")),n="function"==typeof e;return this.then(n?function(n){return $n(t,e()).then((function(){return n}))}:e,n?function(n){return $n(t,e()).then((function(){throw n}))}:e)}}),"function"!=typeof Ft||Ft.prototype.finally||te(Ft.prototype,"finally",oe("Promise").prototype.finally);var Rr,Ar,jr,Er=function(e){return function(t,n){var r,o,i=String(g(t)),a=ue(n),u=i.length;return a<0||a>=u?e?"":void 0:(r=i.charCodeAt(a))<55296||r>56319||a+1===u||(o=i.charCodeAt(a+1))<56320||o>57343?e?i.charAt(a):r:e?i.slice(a,a+2):o-56320+(r-55296<<10)+65536}},Or={codeAt:Er(!1),charAt:Er(!0)},Pr=!a((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),Tr=W("IE_PROTO"),qr=Object.prototype,Mr=Pr?Object.getPrototypeOf:function(e){return e=Ce(e),k(e,Tr)?e[Tr]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?qr:null},Cr=_e("iterator"),xr=!1;[].keys&&("next"in(jr=[].keys())?(Ar=Mr(Mr(jr)))!==Object.prototype&&(Rr=Ar):xr=!0),null==Rr&&(Rr={}),k(Rr,Cr)||q(Rr,Cr,(function(){return this}));var Ur={IteratorPrototype:Rr,BUGGY_SAFARI_ITERATORS:xr},Hr=Ur.IteratorPrototype,Ir=function(){return this},Fr=function(e,t,n){var r=t+" Iterator";return e.prototype=st(Hr,{next:l(1,n)}),Bt(e,r,!1),Vt[r]=Ir,e},Dr=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(wa){}return function(n,r){return O(n),function(e){if(!m(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(r),t?e.call(n,r):n.__proto__=r,n}}():void 0),_r=Ur.IteratorPrototype,Nr=Ur.BUGGY_SAFARI_ITERATORS,Br=_e("iterator"),Xr=function(){return this},Gr=function(e,t,n,r,o,i,a){Fr(n,t,r);var u,c,s,f=function(e){if(e===o&&v)return v;if(!Nr&&e in p)return p[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},l=t+" Iterator",h=!1,p=e.prototype,d=p[Br]||p["@@iterator"]||o&&p[o],v=!Nr&&d||f(o),g="Array"==t&&p.entries||d;if(g&&(u=Mr(g.call(new e)),_r!==Object.prototype&&u.next&&(Mr(u)!==_r&&(Dr?Dr(u,_r):"function"!=typeof u[Br]&&q(u,Br,Xr)),Bt(u,l,!0))),"values"==o&&d&&"values"!==d.name&&(h=!0,v=function(){return d.call(this)}),p[Br]!==v&&q(p,Br,v),Vt[t]=v,o)if(c={values:f("values"),keys:i?v:f("keys"),entries:f("entries")},a)for(s in c)(Nr||h||!(s in p))&&te(p,s,c[s]);else Te({target:t,proto:!0,forced:Nr||h},c);return c},Vr=Or.charAt,Wr=ee.set,zr=ee.getterFor("String Iterator");Gr(String,"String",(function(e){Wr(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=zr(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=Vr(n,r),t.index+=e.length,{value:e,done:!1})}));var Kr=function(e,t){var n=this;if(!(n instanceof Kr))return new Kr(e,t);Dr&&(n=Dr(new Error(void 0),Mr(n))),void 0!==t&&q(n,"message",String(t));var r=[];return Qt(e,r.push,{that:r}),q(n,"errors",r),n};Kr.prototype=st(Error.prototype,{constructor:l(5,Kr),message:l(5,""),name:l(5,"AggregateError")}),Te({global:!0},{AggregateError:Kr}),Te({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=Kn.f(t),r=n.resolve,o=n.reject,i=Yn((function(){var n=qe(t.resolve),o=[],i=0,a=1;Qt(e,(function(e){var u=i++,c=!1;o.push(void 0),a++,n.call(t,e).then((function(e){c||(c=!0,o[u]={status:"fulfilled",value:e},--a||r(o))}),(function(e){c||(c=!0,o[u]={status:"rejected",reason:e},--a||r(o))}))})),--a||r(o)}));return i.error&&o(i.value),n.promise}});Te({target:"Promise",stat:!0},{any:function(e){var t=this,n=Kn.f(t),r=n.resolve,o=n.reject,i=Yn((function(){var n=qe(t.resolve),i=[],a=0,u=1,c=!1;Qt(e,(function(e){var s=a++,f=!1;i.push(void 0),u++,n.call(t,e).then((function(e){f||c||(c=!0,r(e))}),(function(e){f||c||(f=!0,i[s]=e,--u||o(new(oe("AggregateError"))(i,"No one promise resolved")))}))})),--u||o(new(oe("AggregateError"))(i,"No one promise resolved"))}));return i.error&&o(i.value),n.promise}}),Te({target:"Promise",stat:!0},{try:function(e){var t=Kn.f(this),n=Yn(e);return(n.error?t.reject:t.resolve)(n.value),t.promise}});var $r={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Yr=ee.set,Jr=ee.getterFor("Array Iterator"),Zr=Gr(Array,"Array",(function(e,t){Yr(this,{type:"Array Iterator",target:y(e),index:0,kind:t})}),(function(){var e=Jr(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");Vt.Arguments=Vt.Array,ht("keys"),ht("values"),ht("entries");var Qr=_e("iterator"),eo=_e("toStringTag"),to=Zr.values;for(var no in $r){var ro=i[no],oo=ro&&ro.prototype;if(oo){if(oo[Qr]!==to)try{q(oo,Qr,to)}catch(wa){oo[Qr]=to}if(oo[eo]||q(oo,eo,no),$r[no])for(var io in Zr)if(oo[io]!==Zr[io])try{q(oo,io,Zr[io])}catch(wa){oo[io]=Zr[io]}}}var ao=_e("iterator"),uo=!a((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[ao]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://ÑÐµÑÑ").host||"#%D0%B1"!==new URL("http://a#Ð±").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host})),co=function(e,t,n,r){try{return r?t(O(n)[0],n[1]):t(n)}catch(wa){throw Jt(e),wa}},so=function(e,t,n){var r=w(t);r in e?T.f(e,r,l(0,n)):e[r]=n},fo=function(e){var t,n,r,o,i,a,u=Ce(e),c="function"==typeof this?this:Array,s=arguments.length,f=s>1?arguments[1]:void 0,l=void 0!==f,h=Yt(u),p=0;if(l&&(f=Me(f,s>2?arguments[2]:void 0,2)),null==h||c==Array&&Kt(h))for(n=new c(t=se(u.length));t>p;p++)a=l?f(u[p],p):u[p],so(n,p,a);else for(i=(o=h.call(u)).next,n=new c;!(r=i.call(o)).done;p++)a=l?co(o,f,[r.value,p],!0):r.value,so(n,p,a);return n.length=p,n},lo=/[^\0-\u007E]/,ho=/[.\u3002\uFF0E\uFF61]/g,po="Overflow: input needs wider integers to process",vo=Math.floor,go=String.fromCharCode,yo=function(e){return e+22+75*(e<26)},mo=function(e,t,n){var r=0;for(e=n?vo(e/700):e>>1,e+=vo(e/t);e>455;r+=36)e=vo(e/35);return vo(r+36*e/(e+38))},wo=function(e){var t,n,r=[],o=(e=function(e){for(var t=[],n=0,r=e.length;n<r;){var o=e.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){var i=e.charCodeAt(n++);56320==(64512&i)?t.push(((1023&o)<<10)+(1023&i)+65536):(t.push(o),n--)}else t.push(o)}return t}(e)).length,i=128,a=0,u=72;for(t=0;t<e.length;t++)(n=e[t])<128&&r.push(go(n));var c=r.length,s=c;for(c&&r.push("-");s<o;){var f=2147483647;for(t=0;t<e.length;t++)(n=e[t])>=i&&n<f&&(f=n);var l=s+1;if(f-i>vo((2147483647-a)/l))throw RangeError(po);for(a+=(f-i)*l,i=f,t=0;t<e.length;t++){if((n=e[t])<i&&++a>2147483647)throw RangeError(po);if(n==i){for(var h=a,p=36;;p+=36){var d=p<=u?1:p>=u+26?26:p-u;if(h<d)break;var v=h-d,g=36-d;r.push(go(yo(d+v%g))),h=vo(v/g)}r.push(go(yo(h))),u=mo(a,l,s==c),a=0,++s}}++a,++i}return r.join("")},bo=function(e){var t=Yt(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return O(t.call(e))},ko=oe("fetch"),So=oe("Headers"),Lo=_e("iterator"),Ro=ee.set,Ao=ee.getterFor("URLSearchParams"),jo=ee.getterFor("URLSearchParamsIterator"),Eo=/\+/g,Oo=Array(4),Po=function(e){return Oo[e-1]||(Oo[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},To=function(e){try{return decodeURIComponent(e)}catch(wa){return e}},qo=function(e){var t=e.replace(Eo," "),n=4;try{return decodeURIComponent(t)}catch(wa){for(;n;)t=t.replace(Po(n--),To);return t}},Mo=/[!'()~]|%20/g,Co={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},xo=function(e){return Co[e]},Uo=function(e){return encodeURIComponent(e).replace(Mo,xo)},Ho=function(e,t){if(t)for(var n,r,o=t.split("&"),i=0;i<o.length;)(n=o[i++]).length&&(r=n.split("="),e.push({key:qo(r.shift()),value:qo(r.join("="))}))},Io=function(e){this.entries.length=0,Ho(this.entries,e)},Fo=function(e,t){if(e<t)throw TypeError("Not enough arguments")},Do=Fr((function(e,t){Ro(this,{type:"URLSearchParamsIterator",iterator:bo(Ao(e).entries),kind:t})}),"Iterator",(function(){var e=jo(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n})),_o=function(){Gt(this,_o,"URLSearchParams");var e,t,n,r,o,i,a,u,c,s=arguments.length>0?arguments[0]:void 0,f=this,l=[];if(Ro(f,{type:"URLSearchParams",entries:l,updateURL:function(){},updateSearchParams:Io}),void 0!==s)if(m(s))if("function"==typeof(e=Yt(s)))for(n=(t=e.call(s)).next;!(r=n.call(t)).done;){if((a=(i=(o=bo(O(r.value))).next).call(o)).done||(u=i.call(o)).done||!i.call(o).done)throw TypeError("Expected sequence with length 2");l.push({key:a.value+"",value:u.value+""})}else for(c in s)k(s,c)&&l.push({key:c,value:s[c]+""});else Ho(l,"string"==typeof s?"?"===s.charAt(0)?s.slice(1):s:s+"")},No=_o.prototype;Dt(No,{append:function(e,t){Fo(arguments.length,2);var n=Ao(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){Fo(arguments.length,1);for(var t=Ao(this),n=t.entries,r=e+"",o=0;o<n.length;)n[o].key===r?n.splice(o,1):o++;t.updateURL()},get:function(e){Fo(arguments.length,1);for(var t=Ao(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){Fo(arguments.length,1);for(var t=Ao(this).entries,n=e+"",r=[],o=0;o<t.length;o++)t[o].key===n&&r.push(t[o].value);return r},has:function(e){Fo(arguments.length,1);for(var t=Ao(this).entries,n=e+"",r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){Fo(arguments.length,1);for(var n,r=Ao(this),o=r.entries,i=!1,a=e+"",u=t+"",c=0;c<o.length;c++)(n=o[c]).key===a&&(i?o.splice(c--,1):(i=!0,n.value=u));i||o.push({key:a,value:u}),r.updateURL()},sort:function(){var e,t,n,r=Ao(this),o=r.entries,i=o.slice();for(o.length=0,n=0;n<i.length;n++){for(e=i[n],t=0;t<n;t++)if(o[t].key>e.key){o.splice(t,0,e);break}t===n&&o.push(e)}r.updateURL()},forEach:function(e){for(var t,n=Ao(this).entries,r=Me(e,arguments.length>1?arguments[1]:void 0,3),o=0;o<n.length;)r((t=n[o++]).value,t.key,this)},keys:function(){return new Do(this,"keys")},values:function(){return new Do(this,"values")},entries:function(){return new Do(this,"entries")}},{enumerable:!0}),te(No,Lo,No.entries),te(No,"toString",(function(){for(var e,t=Ao(this).entries,n=[],r=0;r<t.length;)e=t[r++],n.push(Uo(e.key)+"="+Uo(e.value));return n.join("&")}),{enumerable:!0}),Bt(_o,"URLSearchParams"),Te({global:!0,forced:!uo},{URLSearchParams:_o}),uo||"function"!=typeof ko||"function"!=typeof So||Te({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,r,o=[e];return arguments.length>1&&(m(t=arguments[1])&&(n=t.body,"URLSearchParams"===Ht(n)&&((r=t.headers?new So(t.headers):new So).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=st(t,{body:l(0,String(n)),headers:l(0,r)}))),o.push(t)),ko.apply(this,o)}});var Bo,Xo={URLSearchParams:_o,getState:Ao},Go=Or.codeAt,Vo=i.URL,Wo=Xo.URLSearchParams,zo=Xo.getState,Ko=ee.set,$o=ee.getterFor("URL"),Yo=Math.floor,Jo=Math.pow,Zo=/[A-Za-z]/,Qo=/[\d+-.A-Za-z]/,ei=/\d/,ti=/^(0x|0X)/,ni=/^[0-7]+$/,ri=/^\d+$/,oi=/^[\dA-Fa-f]+$/,ii=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,ai=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,ui=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,ci=/[\u0009\u000A\u000D]/g,si=function(e,t){var n,r,o;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return"Invalid host";if(!(n=li(t.slice(1,-1))))return"Invalid host";e.host=n}else if(wi(e)){if(t=function(e){var t,n,r=[],o=e.toLowerCase().replace(ho,".").split(".");for(t=0;t<o.length;t++)n=o[t],r.push(lo.test(n)?"xn--"+wo(n):n);return r.join(".")}(t),ii.test(t))return"Invalid host";if(null===(n=fi(t)))return"Invalid host";e.host=n}else{if(ai.test(t))return"Invalid host";for(n="",r=fo(t),o=0;o<r.length;o++)n+=yi(r[o],pi);e.host=n}},fi=function(e){var t,n,r,o,i,a,u,c=e.split(".");if(c.length&&""==c[c.length-1]&&c.pop(),(t=c.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(o=c[r]))return e;if(i=10,o.length>1&&"0"==o.charAt(0)&&(i=ti.test(o)?16:8,o=o.slice(8==i?1:2)),""===o)a=0;else{if(!(10==i?ri:8==i?ni:oi).test(o))return e;a=parseInt(o,i)}n.push(a)}for(r=0;r<t;r++)if(a=n[r],r==t-1){if(a>=Jo(256,5-t))return null}else if(a>255)return null;for(u=n.pop(),r=0;r<n.length;r++)u+=n[r]*Jo(256,3-r);return u},li=function(e){var t,n,r,o,i,a,u,c=[0,0,0,0,0,0,0,0],s=0,f=null,l=0,h=function(){return e.charAt(l)};if(":"==h()){if(":"!=e.charAt(1))return;l+=2,f=++s}for(;h();){if(8==s)return;if(":"!=h()){for(t=n=0;n<4&&oi.test(h());)t=16*t+parseInt(h(),16),l++,n++;if("."==h()){if(0==n)return;if(l-=n,s>6)return;for(r=0;h();){if(o=null,r>0){if(!("."==h()&&r<4))return;l++}if(!ei.test(h()))return;for(;ei.test(h());){if(i=parseInt(h(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(o>255)return;l++}c[s]=256*c[s]+o,2!=++r&&4!=r||s++}if(4!=r)return;break}if(":"==h()){if(l++,!h())return}else if(h())return;c[s++]=t}else{if(null!==f)return;l++,f=++s}}if(null!==f)for(a=s-f,s=7;0!=s&&a>0;)u=c[s],c[s--]=c[f+a-1],c[f+--a]=u;else if(8!=s)return;return c},hi=function(e){var t,n,o,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=Yo(e/256);return t.join(".")}if("object"==r(e)){for(t="",o=function(e){for(var t=null,n=1,r=null,o=0,i=0;i<8;i++)0!==e[i]?(o>n&&(t=r,n=o),r=null,o=0):(null===r&&(r=i),++o);return o>n&&(t=r,n=o),t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),o===n?(t+=n?":":"::",i=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},pi={},di=qt({},pi,{" ":1,'"':1,"<":1,">":1,"`":1}),vi=qt({},di,{"#":1,"?":1,"{":1,"}":1}),gi=qt({},vi,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),yi=function(e,t){var n=Go(e,0);return n>32&&n<127&&!k(t,e)?e:encodeURIComponent(e)},mi={ftp:21,file:null,http:80,https:443,ws:80,wss:443},wi=function(e){return k(mi,e.scheme)},bi=function(e){return""!=e.username||""!=e.password},ki=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},Si=function(e,t){var n;return 2==e.length&&Zo.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},Li=function(e){var t;return e.length>1&&Si(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},Ri=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&Si(t[0],!0)||t.pop()},Ai=function(e){return"."===e||"%2e"===e.toLowerCase()},ji={},Ei={},Oi={},Pi={},Ti={},qi={},Mi={},Ci={},xi={},Ui={},Hi={},Ii={},Fi={},Di={},_i={},Ni={},Bi={},Xi={},Gi={},Vi={},Wi={},zi=function(e,t,n,r){var o,i,a,u,c,s=n||ji,f=0,l="",h=!1,p=!1,d=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(ui,"")),t=t.replace(ci,""),o=fo(t);f<=o.length;){switch(i=o[f],s){case ji:if(!i||!Zo.test(i)){if(n)return"Invalid scheme";s=Oi;continue}l+=i.toLowerCase(),s=Ei;break;case Ei:if(i&&(Qo.test(i)||"+"==i||"-"==i||"."==i))l+=i.toLowerCase();else{if(":"!=i){if(n)return"Invalid scheme";l="",s=Oi,f=0;continue}if(n&&(wi(e)!=k(mi,l)||"file"==l&&(bi(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=l,n)return void(wi(e)&&mi[e.scheme]==e.port&&(e.port=null));l="","file"==e.scheme?s=Di:wi(e)&&r&&r.scheme==e.scheme?s=Pi:wi(e)?s=Ci:"/"==o[f+1]?(s=Ti,f++):(e.cannotBeABaseURL=!0,e.path.push(""),s=Gi)}break;case Oi:if(!r||r.cannotBeABaseURL&&"#"!=i)return"Invalid scheme";if(r.cannotBeABaseURL&&"#"==i){e.scheme=r.scheme,e.path=r.path.slice(),e.query=r.query,e.fragment="",e.cannotBeABaseURL=!0,s=Wi;break}s="file"==r.scheme?Di:qi;continue;case Pi:if("/"!=i||"/"!=o[f+1]){s=qi;continue}s=xi,f++;break;case Ti:if("/"==i){s=Ui;break}s=Xi;continue;case qi:if(e.scheme=r.scheme,i==Bo)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query;else if("/"==i||"\\"==i&&wi(e))s=Mi;else if("?"==i)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query="",s=Vi;else{if("#"!=i){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.path.pop(),s=Xi;continue}e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query,e.fragment="",s=Wi}break;case Mi:if(!wi(e)||"/"!=i&&"\\"!=i){if("/"!=i){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,s=Xi;continue}s=Ui}else s=xi;break;case Ci:if(s=xi,"/"!=i||"/"!=l.charAt(f+1))continue;f++;break;case xi:if("/"!=i&&"\\"!=i){s=Ui;continue}break;case Ui:if("@"==i){h&&(l="%40"+l),h=!0,a=fo(l);for(var v=0;v<a.length;v++){var g=a[v];if(":"!=g||d){var y=yi(g,gi);d?e.password+=y:e.username+=y}else d=!0}l=""}else if(i==Bo||"/"==i||"?"==i||"#"==i||"\\"==i&&wi(e)){if(h&&""==l)return"Invalid authority";f-=fo(l).length+1,l="",s=Hi}else l+=i;break;case Hi:case Ii:if(n&&"file"==e.scheme){s=Ni;continue}if(":"!=i||p){if(i==Bo||"/"==i||"?"==i||"#"==i||"\\"==i&&wi(e)){if(wi(e)&&""==l)return"Invalid host";if(n&&""==l&&(bi(e)||null!==e.port))return;if(u=si(e,l))return u;if(l="",s=Bi,n)return;continue}"["==i?p=!0:"]"==i&&(p=!1),l+=i}else{if(""==l)return"Invalid host";if(u=si(e,l))return u;if(l="",s=Fi,n==Ii)return}break;case Fi:if(!ei.test(i)){if(i==Bo||"/"==i||"?"==i||"#"==i||"\\"==i&&wi(e)||n){if(""!=l){var m=parseInt(l,10);if(m>65535)return"Invalid port";e.port=wi(e)&&m===mi[e.scheme]?null:m,l=""}if(n)return;s=Bi;continue}return"Invalid port"}l+=i;break;case Di:if(e.scheme="file","/"==i||"\\"==i)s=_i;else{if(!r||"file"!=r.scheme){s=Xi;continue}if(i==Bo)e.host=r.host,e.path=r.path.slice(),e.query=r.query;else if("?"==i)e.host=r.host,e.path=r.path.slice(),e.query="",s=Vi;else{if("#"!=i){Li(o.slice(f).join(""))||(e.host=r.host,e.path=r.path.slice(),Ri(e)),s=Xi;continue}e.host=r.host,e.path=r.path.slice(),e.query=r.query,e.fragment="",s=Wi}}break;case _i:if("/"==i||"\\"==i){s=Ni;break}r&&"file"==r.scheme&&!Li(o.slice(f).join(""))&&(Si(r.path[0],!0)?e.path.push(r.path[0]):e.host=r.host),s=Xi;continue;case Ni:if(i==Bo||"/"==i||"\\"==i||"?"==i||"#"==i){if(!n&&Si(l))s=Xi;else if(""==l){if(e.host="",n)return;s=Bi}else{if(u=si(e,l))return u;if("localhost"==e.host&&(e.host=""),n)return;l="",s=Bi}continue}l+=i;break;case Bi:if(wi(e)){if(s=Xi,"/"!=i&&"\\"!=i)continue}else if(n||"?"!=i)if(n||"#"!=i){if(i!=Bo&&(s=Xi,"/"!=i))continue}else e.fragment="",s=Wi;else e.query="",s=Vi;break;case Xi:if(i==Bo||"/"==i||"\\"==i&&wi(e)||!n&&("?"==i||"#"==i)){if(".."===(c=(c=l).toLowerCase())||"%2e."===c||".%2e"===c||"%2e%2e"===c?(Ri(e),"/"==i||"\\"==i&&wi(e)||e.path.push("")):Ai(l)?"/"==i||"\\"==i&&wi(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&Si(l)&&(e.host&&(e.host=""),l=l.charAt(0)+":"),e.path.push(l)),l="","file"==e.scheme&&(i==Bo||"?"==i||"#"==i))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==i?(e.query="",s=Vi):"#"==i&&(e.fragment="",s=Wi)}else l+=yi(i,vi);break;case Gi:"?"==i?(e.query="",s=Vi):"#"==i?(e.fragment="",s=Wi):i!=Bo&&(e.path[0]+=yi(i,pi));break;case Vi:n||"#"!=i?i!=Bo&&("'"==i&&wi(e)?e.query+="%27":e.query+="#"==i?"%23":yi(i,pi)):(e.fragment="",s=Wi);break;case Wi:i!=Bo&&(e.fragment+=yi(i,di))}f++}},Ki=function(e){var t,n,r=Gt(this,Ki,"URL"),o=arguments.length>1?arguments[1]:void 0,i=String(e),a=Ko(r,{type:"URL"});if(void 0!==o)if(o instanceof Ki)t=$o(o);else if(n=zi(t={},String(o)))throw TypeError(n);if(n=zi(a,i,null,t))throw TypeError(n);var c=a.searchParams=new Wo,s=zo(c);s.updateSearchParams(a.query),s.updateURL=function(){a.query=String(c)||null},u||(r.href=Yi.call(r),r.origin=Ji.call(r),r.protocol=Zi.call(r),r.username=Qi.call(r),r.password=ea.call(r),r.host=ta.call(r),r.hostname=na.call(r),r.port=ra.call(r),r.pathname=oa.call(r),r.search=ia.call(r),r.searchParams=aa.call(r),r.hash=ua.call(r))},$i=Ki.prototype,Yi=function(){var e=$o(this),t=e.scheme,n=e.username,r=e.password,o=e.host,i=e.port,a=e.path,u=e.query,c=e.fragment,s=t+":";return null!==o?(s+="//",bi(e)&&(s+=n+(r?":"+r:"")+"@"),s+=hi(o),null!==i&&(s+=":"+i)):"file"==t&&(s+="//"),s+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==u&&(s+="?"+u),null!==c&&(s+="#"+c),s},Ji=function(){var e=$o(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(wa){return"null"}return"file"!=t&&wi(e)?t+"://"+hi(e.host)+(null!==n?":"+n:""):"null"},Zi=function(){return $o(this).scheme+":"},Qi=function(){return $o(this).username},ea=function(){return $o(this).password},ta=function(){var e=$o(this),t=e.host,n=e.port;return null===t?"":null===n?hi(t):hi(t)+":"+n},na=function(){var e=$o(this).host;return null===e?"":hi(e)},ra=function(){var e=$o(this).port;return null===e?"":String(e)},oa=function(){var e=$o(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},ia=function(){var e=$o(this).query;return e?"?"+e:""},aa=function(){return $o(this).searchParams},ua=function(){var e=$o(this).fragment;return e?"#"+e:""},ca=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(u&&rt($i,{href:ca(Yi,(function(e){var t=$o(this),n=String(e),r=zi(t,n);if(r)throw TypeError(r);zo(t.searchParams).updateSearchParams(t.query)})),origin:ca(Ji),protocol:ca(Zi,(function(e){var t=$o(this);zi(t,String(e)+":",ji)})),username:ca(Qi,(function(e){var t=$o(this),n=fo(String(e));if(!ki(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=yi(n[r],gi)}})),password:ca(ea,(function(e){var t=$o(this),n=fo(String(e));if(!ki(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=yi(n[r],gi)}})),host:ca(ta,(function(e){var t=$o(this);t.cannotBeABaseURL||zi(t,String(e),Hi)})),hostname:ca(na,(function(e){var t=$o(this);t.cannotBeABaseURL||zi(t,String(e),Ii)})),port:ca(ra,(function(e){var t=$o(this);ki(t)||(""==(e=String(e))?t.port=null:zi(t,e,Fi))})),pathname:ca(oa,(function(e){var t=$o(this);t.cannotBeABaseURL||(t.path=[],zi(t,e+"",Bi))})),search:ca(ia,(function(e){var t=$o(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",zi(t,e,Vi)),zo(t.searchParams).updateSearchParams(t.query)})),searchParams:ca(aa),hash:ca(ua,(function(e){var t=$o(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",zi(t,e,Wi)):t.fragment=null}))}),te($i,"toJSON",(function(){return Yi.call(this)}),{enumerable:!0}),te($i,"toString",(function(){return Yi.call(this)}),{enumerable:!0}),Vo){var sa=Vo.createObjectURL,fa=Vo.revokeObjectURL;sa&&te(Ki,"createObjectURL",(function(e){return sa.apply(Vo,arguments)})),fa&&te(Ki,"revokeObjectURL",(function(e){return fa.apply(Vo,arguments)}))}Bt(Ki,"URL"),Te({global:!0,forced:!uo,sham:!u},{URL:Ki}),Te({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}});var la=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};function ha(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var pa=function(e,t,n){return t&&ha(e.prototype,t),n&&ha(e,n),e},da="fetch"in window,va="Request"in window,ga="Headers"in window,ya={POST:"*",PUT:"*",PATCH:"*",DELETE:"*"},ma=new(function(){function e(){la(this,e),this.tokenHeaderName="x-secsdk-csrf-token",this.tokenFetchTimeout=1e4,this.secsdkVersionHeaderName="x-secsdk-csrf-version",this.nativeXMLHttpRequest=window.XMLHttpRequest.prototype.constructor,this.nativeXMLHttpRequestOpen=window.XMLHttpRequest.prototype.open,this.nativeXMLHttpRequestSend=window.XMLHttpRequest.prototype.send,this.nativeXMLHttpRequestSetRequestHeader=window.XMLHttpRequest.prototype.setRequestHeader,this.nativeFetch=window.fetch,this.tokenMap={},this.protectionConfig={},this.whiteListConfig={},this.secsdkVersion="1.2.11",this.downgradeMaxAge=1e3,this.downgradeLimit=-1,this.downgradeLimitMap={},this.monkeyPatchXMLHttpRequest(),this.monkeyPatchFetch()}return pa(e,[{key:"setProtectedHost",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.host;this.protectionConfig={},"string"==typeof t?this.protectionConfig[t]=Object.assign({},ya):Array.isArray(t)?t.forEach((function(t){e.protectionConfig[t]=Object.assign({},ya)})):"[object Object]"===Object.prototype.toString.call(t)&&Object.keys(t).forEach((function(n){e.protectionConfig[n]=Object.assign({},ya);var r=t[n];"[object Object]"===Object.prototype.toString.call(r)&&Object.keys(r).forEach((function(t){e.protectionConfig[n][t.toUpperCase()]=r[t]}))}))}},{key:"setAllowedHost",value:function(e){var t=this;Object.keys(e).forEach((function(n){t.whiteListConfig[n]={};var r=e[n];Object.keys(r).forEach((function(e){t.protectionConfig[n][e.toUpperCase()]=r[e]}))}))}},{key:"setDowngradeMaxAge",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;this.downgradeMaxAge=e}},{key:"setDowngradeLimit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this.downgradeLimit=e}},{key:"fetchToken",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.host,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.pathname;return Array.isArray(t)?Promise.all(t.map((function(t){return e.fetchToken(t)}))):(this.tokenMap[t]||(this.tokenMap[t]=this.fetchTokenFromServer(t,this.getTokenPath(t,n)).then((function(n){return e.tokenMap[t]=n,n}))),Promise.resolve(this.tokenMap[t]).then((function(r){return r.expiredAt<Date.now()&&!r.timeout?(delete e.tokenMap[t],e.fetchToken(t,n)):r})))}},{key:"fetchTokenFromLocal",value:function(e){var t=this.tokenMap[e];return!t||t instanceof Promise?"DOWNGRADE":t.value}},{key:"incrementDowngradeLimitCount",value:function(e){if(-1!==this.downgradeLimit){var t=this.downgradeLimitMap[e]||0;this.downgradeLimitMap[e]=t+1}}},{key:"checkDowngradeLimit",value:function(e){return-1!==this.downgradeLimit&&(this.downgradeLimitMap[e]||0)>=this.downgradeLimit}},{key:"fetchTokenFromServer",value:function(e,t){var n=this;return new Promise((function(r){var o=new(0,n.nativeXMLHttpRequest),i={value:"DOWNGRADE",expiredAt:Date.now()+n.downgradeMaxAge,timeout:!1};if(n.checkDowngradeLimit(e))return console.error(new Error("Failed to fetch csrf token: host=".concat(e," downgradeLimit: ").concat(n.downgradeLimit))),void r(i);o.addEventListener("load",(function(){if(200!==o.status)return console.error(new Error("Failed to fetch csrf token: host=".concat(e," status=").concat(o.status," statusText=").concat(o.statusText))),r(i),void n.incrementDowngradeLimitCount(e);var t=[],a=o.getResponseHeader("x-ware-csrf-token");if(!a)return console.warn("Failed to get csrf token: host=".concat(e," xWareCsrfToken=").concat(a)),r(i),void n.incrementDowngradeLimitCount(e);if("0"!==(t=a.split(","))[0])return console.warn("Failed to fetch csrf token: host=".concat(e," status_code=").concat(t[0]," message=").concat(t[3])),r(i),void n.incrementDowngradeLimitCount(e);if(!t[1])return console.warn("Failed to fetch csrf token, empty token: host=".concat(e," data=").concat(t)),r(i),void n.incrementDowngradeLimitCount(e);var u=parseInt(t[2],10)||864e5;r({value:t[1],expiredAt:Date.now()+u,timeout:!1})})),o.addEventListener("error",(function(){console.error(new Error("Failed to fetch csrf token: host=".concat(e," error=network request failed"))),r(i),n.incrementDowngradeLimitCount(e)})),o.addEventListener("abort",(function(){console.error(new Error("Failed to fetch csrf token: host=".concat(e," error=network request aborted"))),r(i),n.incrementDowngradeLimitCount(e)})),o.addEventListener("timeout",(function(){console.error(new Error("Failed to fetch csrf token: host=".concat(e," error=timeout"))),i.timeout=!0,r(i),n.incrementDowngradeLimitCount(e)}));var a=["http:","https:"].includes(window.location.protocol)?window.location.protocol:"https:";n.nativeXMLHttpRequestOpen.call(o,"HEAD","".concat(a,"//").concat(e).concat(t)),n.nativeXMLHttpRequestSetRequestHeader.call(o,"x-secsdk-csrf-request","1"),n.nativeXMLHttpRequestSetRequestHeader.call(o,n.secsdkVersionHeaderName,n.secsdkVersion),o.withCredentials=!0,o.timeout=n.tokenFetchTimeout,n.nativeXMLHttpRequestSend.call(o)}))}},{key:"matchConfig",value:function(e,t,n,r){n=n.toUpperCase();var o=e;if(!o[t])return!1;if(!o[t][n])return!1;var i=o[t][n];return i instanceof RegExp?i.test(r):Array.isArray(i)?i.some((function(e){return e instanceof RegExp?e.test(r):e===r})):"*"===i||i===r}},{key:"shouldAllowRequest",value:function(e,t,n){return this.matchConfig(this.whiteListConfig,e,t,n)}},{key:"shouldProtectRequest",value:function(e,t,n){return this.matchConfig(this.protectionConfig,e,t,n)}},{key:"getTokenPath",value:function(e,t){var n=this.protectionConfig;return n[e]&&n[e].TOKEN_PATH?n[e].TOKEN_PATH:t}},{key:"monkeyPatchXMLHttpRequest",value:function(){var e=this;XMLHttpRequest.prototype.open=function(){this.openArgs=arguments,e.nativeXMLHttpRequestOpen.apply(this,arguments)},XMLHttpRequest.prototype.send=function(){var t=this,n=this.openArgs,r=arguments,o=n[0]||"GET",i=new URL(n[1],window.location.href);if(e.shouldAllowRequest(i.hostname,o,i.pathname))return e.nativeXMLHttpRequestSend.apply(this,r);if(!e.shouldProtectRequest(i.host,o,i.pathname))return e.nativeXMLHttpRequestSend.apply(this,r);if(n.length>=3&&!n[2]){var a=e.fetchTokenFromLocal(i.host);return e.nativeXMLHttpRequestSetRequestHeader.call(this,e.tokenHeaderName,a),e.nativeXMLHttpRequestSend.apply(this,r)}e.fetchToken(i.host,i.pathname).then((function(n){e.nativeXMLHttpRequestSetRequestHeader.call(t,e.tokenHeaderName,n.value),e.nativeXMLHttpRequestSend.apply(t,r)}))}}},{key:"monkeyPatchFetch",value:function(){if(da){var e=this;window.fetch=function(t,n){var r,o,i=this;va&&t instanceof Request?(r=t.url,o=t.method):(r=t,o=n&&n.method?n.method:"GET");var a=new URL(r,window.location.href);return e.shouldAllowRequest(a.hostname,o,a.pathname)?e.nativeFetch.apply(this,[t,n]):e.shouldProtectRequest(a.host,o,a.pathname)?e.fetchToken(a.host,a.pathname).then((function(r){if(va&&t instanceof Request)t.headers.set(e.tokenHeaderName,r.value);else if((n=n||{}).headers=n.headers||{},ga&&n.headers instanceof Headers)n.headers.set(e.tokenHeaderName,r.value);else if(Array.isArray(n.headers)){var o=!1;n.headers.forEach((function(t){t[0]===e.tokenHeaderName&&(t[1]=r.value,o=!0)})),o||n.headers.push([e.tokenHeaderName,r.value])}else n.headers[e.tokenHeaderName]=r.value;return e.nativeFetch.apply(i,[t,n])})):e.nativeFetch.apply(this,[t,n])}}}}]),e}());e.csrf=ma,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=index.umd.js.map
